<style>
<% if theme.nil? -%>
  body {
  <%- if setting.background_image_file_name.blank? -%>
    background-image: none;
  <%- else -%>
    background-image: url('<%= setting.background_image.url %>');
  <%- end -%>
  <%- if setting.tile_background_image -%>
    background-repeat: repeat;
  <%- else -%>
    background-repeat: no-repeat;
  <%- end -%>
  <%- if !setting.scroll_background_image -%>
    background-attachment: fixed;
  <%- end -%>
  <%- if setting.background_color.blank? -%>
    background-color: #fff; 
  <%- else -%>
    background-color: <%= setting.background_color -%>;
  <%- end -%>
  }
<% else -%>
  body {
  <%- if theme.background_image_file_name.blank? -%>
    background-image: none;
  <%- else -%>
    background-image: url('/images/themes/<%= theme.id -%>/background_image/original/<%= theme.background_image_file_name -%>');
  <%- end -%>
  <%- if theme.id == 1 -%>
    background-repeat: repeat-x;
  <%- elsif theme.tile_background_image -%>
    background-repeat: repeat;
  <%- else -%>
    background-repeat: no-repeat;
  <%- end -%>
  <%- if !theme.scroll_background_image -%>
    background-attachment: fixed;
  <% end -%>
  <%- if theme.background_color.blank? -%>
    background-color: #fff; 
  <% else -%>
    background-color: <%= theme.background_color -%>;
  <% end -%>
  }
<% end -%>
</style>
